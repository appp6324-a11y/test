<!-- UI ONLY ‚Äî no backend -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LabourMandi ‚Äî UI-only Demo</title>

  <!-- Tokens + Tailwind Play CDN for utility classes (no build step) -->
  <link href="styles/tokens.css" rel="stylesheet" />
  <link href="styles/globals.css" rel="stylesheet" />

  <!-- Micro meta for PWA mock -->
  <meta name="theme-color" content="#2563eb" />

  <style>
    /* Small runtime-only helper styles to keep demo neat */
    .container { max-width: 1200px; margin: 0 auto; padding: 1rem; }
    .grid-3 { display: grid; grid-template-columns: 260px 1fr 320px; gap: 1rem; }
    @media (max-width: 900px) { .grid-3 { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <!-- Top Navigation -->
  <header data-testid="topnav" id="topnav" class="topnav" role="banner">
    <div class="container topnav-inner">
      <div class="brand">
        <img src="public/assets/placeholder.svg" alt="LabourMandi logo" width="36" height="36" />
        <span class="brand-title">LabourMandi</span>
      </div>

      <div class="topnav-actions">
        <div class="lang-switch">
          <label for="lang-select" class="sr-only">Language</label>
          <select id="lang-select" data-testid="lang-switch" aria-label="Language switch">
            <option value="en">English</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          </select>
        </div>

        <button id="theme-toggle" data-testid="theme-toggle" aria-pressed="false" title="Toggle dark mode">
          üåô
        </button>

        <div class="profile" aria-hidden="false" title="Profile">
          <div class="avatar" aria-hidden="true">A</div>
        </div>

        <button id="mobile-nav-toggle" class="mobile-nav-toggle" data-testid="mobile-nav-toggle" aria-controls="mobile-bottom-nav" aria-expanded="false">
          ‚ò∞
        </button>
      </div>
    </div>
  </header>

  <!-- Main layout -->
  <main class="container" role="main">
    <div class="grid-3" id="layout-grid">

      <!-- Sidebar (desktop) -->
      <aside id="sidebar" class="sidebar" role="navigation" aria-label="Main navigation" data-testid="sidebar">
        <nav>
          <ul>
            <li><a href="#" class="active">Dashboard</a></li>
            <li><a href="#">Labour</a></li>
            <li><a href="#">Projects</a></li>
            <li><a href="#">Equipment</a></li>
            <li><a href="#">Store</a></li>
            <li><a href="#">Admin</a></li>
          </ul>
        </nav>
      </aside>

      <!-- Main content (landing / dashboard shell) -->
      <section id="main-content" class="main-content" aria-live="polite">
        <div class="page-hero">
          <h1>Welcome to LabourMandi (UI Demo)</h1>
          <p class="muted">This is an **UI ONLY ‚Äî no backend** demo of the initial scaffold and global layout.</p>
        </div>

        <!-- Dashboard Cards -->
        <section aria-label="Dashboard cards" class="cards">
          <div class="cards-row">
            <article class="card" data-testid="card-labour-hiring" aria-labelledby="labour-hiring">
              <h2 id="labour-hiring">Labour Hiring</h2>
              <div class="card-body">
                <div class="skeleton loader-rect" aria-hidden="true"></div>
                <div class="empty-state" hidden>
                  <p>No hires yet. Start by posting a job.</p>
                </div>
              </div>
            </article>

            <article class="card" data-testid="card-contractor-bidding" aria-labelledby="contractor-bidding">
              <h2 id="contractor-bidding">Contractor Bidding</h2>
              <div class="card-body">
                <div class="skeleton loader-rect" aria-hidden="true"></div>
                <div class="empty-state" hidden>
                  <p>No bids currently.</p>
                </div>
              </div>
            </article>

            <article class="card" data-testid="card-equipment-rental" aria-labelledby="equipment-rental">
              <h2 id="equipment-rental">Equipment Rental</h2>
              <div class="card-body">
                <div class="skeleton loader-rect" aria-hidden="true"></div>
                <div class="empty-state" hidden>
                  <p>Equipment list empty.</p>
                </div>
              </div>
            </article>
          </div>

          <div class="cards-row">
            <article class="card" data-testid="card-tools-store" aria-labelledby="tools-store">
              <h2 id="tools-store">Tools Store</h2>
              <div class="card-body">
                <div class="skeleton loader-rect" aria-hidden="true"></div>
              </div>
            </article>

            <article class="card" data-testid="card-ai-suggestions" aria-labelledby="ai-suggestions">
              <h2 id="ai-suggestions">AI Suggestions</h2>
              <div class="card-body">
                <p class="muted">AI suggestions mock (click accept/ignore).</p>
                <div class="ai-actions">
                  <button class="btn" id="ai-accept">Accept</button>
                  <button class="btn ghost" id="ai-ignore">Ignore</button>
                </div>
              </div>
            </article>

            <article class="card" aria-labelledby="analytics">
              <h2 id="analytics">Analytics (mock)</h2>
              <div class="card-body">
                <div id="analytics-chart" data-testid="analytics-chart" aria-hidden="false">
                  <p class="muted">Chart placeholder (UI-only).</p>
                </div>
              </div>
            </article>
          </div>
        </section>

        <!-- PWA prompt mock -->
        <div id="pwa-prompt" data-testid="pwa-prompt" class="pwa-prompt" role="dialog" aria-modal="false" aria-hidden="true" hidden>
          <p>Install LabourMandi app? (mock)</p>
          <div class="pwa-actions">
            <button id="pwa-install" class="btn">Install</button>
            <button id="pwa-dismiss" class="btn ghost">Dismiss</button>
          </div>
        </div>
      </section>

      <!-- Right column: mobile bottom nav placeholder + quick actions -->
      <aside class="right-col" role="complementary" aria-label="Quick actions">
        <div class="quick">
          <h3>Quick Actions</h3>
          <ul>
            <li><button class="btn">Post Job</button></li>
            <li><button class="btn">Create Project</button></li>
            <li><button class="btn">Upload KYC</button></li>
          </ul>
        </div>

        <div class="help-card">
          <h4>Help & Feedback</h4>
          <p class="muted">This is a UI-only demo. No real services are called.</p>
        </div>
      </aside>

    </div>
  </main>

  <!-- Mobile bottom nav (hidden on desktop) -->
  <nav id="mobile-bottom-nav" class="mobile-nav" role="navigation" aria-label="Mobile bottom nav" data-testid="mobile-nav" hidden>
    <button aria-label="Home">üè†</button>
    <button aria-label="Search">üîç</button>
    <button aria-label="Post">‚ûï</button>
    <button aria-label="Messages">üí¨</button>
    <button aria-label="Profile">üë§</button>
  </nav>

  <!-- Floating Voice AI button -->
  <button id="voice-ai-btn" class="voice-ai" data-testid="voice-ai-btn" aria-haspopup="dialog" aria-controls="voice-modal">
    üé§ Voice AI
    <span class="microcopy">Try voice commands</span>
  </button>

  <!-- Voice permission modal (mock) -->
  <div id="voice-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" hidden>
    <div class="modal-content">
      <h3>Allow Microphone (mock)</h3>
      <p>This is a UI-only mock to show a permission flow.</p>
      <div class="modal-actions">
        <button id="voice-allow" class="btn">Allow</button>
        <button id="voice-deny" class="btn ghost">Deny</button>
      </div>
    </div>
  </div>

  <!-- PWA install mock modal (used when clicking install) -->
  <div id="pwa-install-modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" hidden>
    <div class="modal-content">
      <h3>PWA Install (mock)</h3>
      <p>App installed (mock). This does not actually install anything.</p>
      <div class="modal-actions">
        <button id="pwa-ok" class="btn">OK</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="container" role="contentinfo">
    <p class="muted">LabourMandi UI-only demo ‚Äî <strong>No backend</strong></p>
  </footer>

  <!-- Scripts -->
  <script>
    /* UI ONLY ‚Äî no backend */
    // Simple theme toggle
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle?.addEventListener('click', () => {
      const pressed = themeToggle.getAttribute('aria-pressed') === 'true';
      themeToggle.setAttribute('aria-pressed', String(!pressed));
      document.documentElement.classList.toggle('dark');
    });

    // Mobile nav toggle
    const mobileToggle = document.getElementById('mobile-nav-toggle');
    const mobileNav = document.getElementById('mobile-bottom-nav');
    mobileToggle?.addEventListener('click', () => {
      const expanded = mobileToggle.getAttribute('aria-expanded') === 'true';
      mobileToggle.setAttribute('aria-expanded', String(!expanded));
      if (mobileNav) {
        mobileNav.hidden = !mobileNav.hidden;
      }
    });

    // PWA prompt mock controls
    const pwaPrompt = document.getElementById('pwa-prompt');
    setTimeout(() => {
      if (pwaPrompt) { pwaPrompt.hidden = false; }
    }, 1500);

    document.getElementById('pwa-install')?.addEventListener('click', () => {
      document.getElementById('pwa-prompt').hidden = true;
      const modal = document.getElementById('pwa-install-modal');
      modal.hidden = false;
    });
    document.getElementById('pwa-dismiss')?.addEventListener('click', () => {
      document.getElementById('pwa-prompt').hidden = true;
    });
    document.getElementById('pwa-ok')?.addEventListener('click', () => {
      document.getElementById('pwa-install-modal').hidden = true;
    });

    // Voice AI mock
    const voiceBtn = document.getElementById('voice-ai-btn');
    const voiceModal = document.getElementById('voice-modal');
    voiceBtn?.addEventListener('click', () => {
      if (voiceModal) voiceModal.hidden = false;
    });
    document.getElementById('voice-allow')?.addEventListener('click', () => {
      if (voiceModal) voiceModal.hidden = true;
      alert('Microphone permission allowed (mock).');
    });
    document.getElementById('voice-deny')?.addEventListener('click', () => {
      if (voiceModal) voiceModal.hidden = true;
      alert('Microphone permission denied (mock).');
    });

    // AI suggestion optimistic UI (local state only)
    document.getElementById('ai-accept')?.addEventListener('click', (e) => {
      const btn = e.currentTarget;
      btn.textContent = 'Accepted ‚úì';
      btn.setAttribute('disabled', 'true');
    });
    document.getElementById('ai-ignore')?.addEventListener('click', (e) => {
      const btn = e.currentTarget;
      btn.textContent = 'Ignored';
      btn.setAttribute('disabled', 'true');
    });

    // Show skeleton loaders then reveal empty states (simulating load)
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.querySelectorAll('.skeleton').forEach(s => s.remove());
        document.querySelectorAll('.empty-state').forEach(el => el.hidden = false);
      }, 900);
    });
  </script>
</body>
</html>
